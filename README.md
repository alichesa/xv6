# xv6
- 每个进程都有自己单独的页表
- 内核地址和用户地址是在同一地址空间，只不过有权限隔离，这样方便用户态和内核态的切换。用户态和内核态都有自己的线程，态的切换就是线程是否被挂起
- PC 开机 → 加载 boot loader → boot loader 加载 xv6 内核 → 内核开始运行
- 每个线程都有自己的context，这里面包含了线程结构体的所有信息（寄存器等）
- 创建一个进程： 建页表 → 分内存 → 映射地址 → 拷程序 → 设寄存器 → 就绪调度
- 运行一个进程： 进入调度器 → 找到 RUNNABLE 进程 → 切换到内核线程上下文 → forkret 初始化 → trapret 切换到用户态
- 运行exec：    第一个用户进程（initcode.S）一启动就执行 exec("/init", argv)，用 /init 替代自己，从而启动 shell 等服务，建立用户空间。
